const STORAGE_KEY="contactList";var app=new Vue({el:"#app",data:{errorMsg:"",successMsg:"",showAddModal:!1,showEditModal:!1,showDeleteModal:!1,uid:"",name:"",email:"",telephone:"",contacts:[]},mounted(){if(localStorage.getItem(STORAGE_KEY))try{this.contacts=JSON.parse(localStorage.getItem(STORAGE_KEY))}catch(t){app.errorMsg=t,localStorage.removeItem(STORAGE_KEY)}},watch:{contacts:{handler(){console.log("Contacts changed"),localStorage.setItem(STORAGE_KEY,JSON.stringify(this.contacts))},deep:!0}},methods:{getContact(t){this.uid=t,this.name=this.contacts[t].name,this.email=this.contacts[t].email,this.telephone=this.contacts[t].telephone},clearCurrentContact(){this.uid="",this.name="",this.email="",this.telephone=""},addContact(){var t="";t="0"==this.contacts.length?"0":parseInt(this.contacts[this.contacts.length-1].id+1),this.contacts.push({id:t,name:this.name,email:this.email,telephone:this.telephone}),app.clearCurrentContact(),app.successMsg="Contact added successfully!"},removeContact(t){confirm("Do you really want to delete "+this.contacts[t].name+"?")?(this.$delete(this.contacts,t),app.successMsg="Contact removed successfully!"):app.errorMsg="Delete canceled",app.clearCurrentContact()},editContact(){this.contacts[this.uid].name=this.name,this.contacts[this.uid].email=this.email,this.contacts[this.uid].telephone=this.telephone,app.clearCurrentContact()}}});